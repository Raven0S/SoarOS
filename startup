os.pullEvent = os.pullEventRaw

term.clear()
print("loading APIs...")
os.loadAPI("apis/text")
term.setTextColor(colors.black)
term.setBackgroundColor(colors.black)
term.clear()
term.setCursorPos(1,1)
sleep(0.1)
term.setBackgroundColor(colors.gray)
term.clear()
term.setCursorPos(1,1)
sleep(0.1)
term.setBackgroundColor(colors.lightGray)
term.clear()
term.setCursorPos(1,1)
sleep(0.1)
term.setBackgroundColor(colors.white)
term.clear()
term.setCursorPos(1,1)
w,h = term.getSize()
term.setCursorPos(w / 2 - math.floor(string.len("SoarOS") / 2), h / 2)
print("Welcome!")
sleep(2)
term.clear()
term.setTextColor(colors.gray)
term.setCursorPos(w / 2 - math.floor(string.len("SoarOS") / 2), h / 2)
print("Welcome!")
sleep(0.1)
term.clear()
term.setTextColor(colors.lightGray)
term.setCursorPos(w / 2 - math.floor(string.len("SoarOS") / 2), h / 2)
print("Welcome!")
sleep(0.1)

if fs.exists("new") then
  term.setTextColor(colors.lightBlue)
  term.clear()
  term.setCursorPos(1,1)
  print("SoarOS Account Creation")
  term.setTextColor(colors.black)
  term.setCursorPos(1,3)
  write("Username: ")
  username = read()
  write("Password: ")
  password = read()
  f = fs.open("username","w")
  f.writeLine(username)
  f.close()
  f = fs.open("password","w")
  f.writeLine(password)
  f.close()
  fs.delete("new")
  shell.run("system/login")
else
  shell.run("system/login")
end
